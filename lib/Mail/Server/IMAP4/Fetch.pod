
=head1 NAME

Mail::Server::IMAP4::Fetch - message info for IMAP protocol speed-up



=head1 SYNOPSIS

 my $imap = Mail::Server::IMAP4::Fetch->new($msg);
 print $imap->fetchBody(1);   # for FETCH BODYSTRUCTURE
 print $imap->fetchBody;      # for FETCH BODY
 print $imap->fetchEnvelope;  # for FETCH ENVELOPE
 print $imap->fetchSize;


=head1 DESCRIPTION

Create a new object hierarchy, which contains information to capture
the most important details about the message.  The object can be used
to speed-up IMAP-server implementations, as L<Mail::Box::Netzwert>.

The object used here is a simplified representation of a
L<Mail::Box::Message|Mail::Box::Message> object.  It does not maintain headers and does
not refer to the folder.  It only works with messages stored in a file.
Therefore, this object can be frozen by L<Storable> if you want to.



=head1 METHODS


=head2 Constructors


Mail::Server::IMAP4::Fetch-E<gt>B<new>(MESSAGE|PART, OPTIONS)

=over 4

 Option        Defined in  Default
 md5checksums              0      

. md5checksums BOOLEAN

=back

=head2 Attributes


$obj-E<gt>B<bodyLocation>

=over 4

=back

$obj-E<gt>B<headLocation>

=over 4

=back

$obj-E<gt>B<messageLocation>

=over 4

=back

=head2 IMAP Commands


$obj-E<gt>B<fetchBody>(EXTENDED)

=over 4

Returns one string, representing the message's structure as defined by
the IMAP protocol.  The boolean argument indicates whether you like to
have the EXTENDED information, as the imap command 'FETCH BODYSTRUCTURE'
defines or the limited information of 'FETCH BODY'.

=back

$obj-E<gt>B<fetchEnvelope>

=over 4

Returns a string representation of some header information.

=back

$obj-E<gt>B<fetchSize>

=over 4

Returns the size of the message body.

=back

$obj-E<gt>B<part>([PARTNR])

=over 4

The partnummer is a list of dot-separated positive integers, numbering
(nested) parts in multi-part message bodies.  By default, the info of
the main message is returned.

I<Example:> 

 my $partinfo = $msg->info->part('1.2.1');
 print $msg->info->part('3.3')->fetchBody;

=back

=head2 Internals





=head1 DETAILS

See

=over 4

=item RFC2060: "Internet Message Access Protocol IMAP4v1" section 7.4.2

=item RFC2045: "MIME Part One: Format of Internet Message Bodies".
=back





=head1 REFERENCES

See the MailBox website at L<http://perl.overmeer.net/mailbox/> for more details.

=head1 COPYRIGHTS

Distribution version 2.057.
Written by Mark Overmeer (mark@overmeer.net).  See the ChangeLog for
other contributors.

Copyright (c) 2001-2003 by the author(s). All rights reserved.
This program is free software; you can redistribute it and/or modify it
under the same terms as Perl itself.


